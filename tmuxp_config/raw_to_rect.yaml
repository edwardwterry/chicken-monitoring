session_name: chicken-monitoring
environment:
  BAGFILE_PATH: /home/ed/Data/2020-06-24-11-33-00_test
windows:
  - window_name: chicken-monitoring
    layout: tiled
    shell_command_before: 
      - cd ${BAGFILE_PATH}
      - rosparam set use_sim_time true
    panes:
      - shell_command:
        - sleep 10
        - rosbag play *.bag --clock -s 845 -u 40
      - shell_command:
        - sleep 5
        - roscd jetson_csi_cam/src
        - chmod +x publish_camera_info.py
        - roslaunch jetson_csi_cam publish_camera_info.launch
      - shell_command:
        - sleep 5
        - roslaunch chicken_monitoring decompress.launch rect:=false
      - shell_command:
        - sleep 5
        - roslaunch chicken_monitoring rectify_color.launch
      - shell_command:
        - sleep 5
        - rosbag record /color/camera/image_rect_color/compressed -O color_rectified_1.bag
